<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>STARRY-S' Blog</title>
  <subtitle>Morning.</subtitle>
  <icon>https://blog.starry-s.me/images/avatar.jpg</icon>
  <link rel="self" type="application/atom+xml" href="https://blog.starry-s.me/atom.xml" />
  
  <link rel="alternate" type="text/html" href="https://blog.starry-s.me/" />
  
  <updated>2020-11-03T08:30:02.000Z</updated>
  
  <id>https://blog.starry-s.me/</id>
  
  <author>
    <name>STARRY-S</name>
    <email>hx916584160@gmail.com</email>
  </author>
  
  <generator uri="https://github.com/AlynxZhou/hikaru-generator-feed/" version="2.2.7">Hikaru Generator Feed</generator>
  
  
  
  
  
  <entry>
    <title>单片机习题整理</title>
    <link rel="alternate" type="text/html" href="https://blog.starry-s.me/posts/learn-mcs8051/" />
    <id>https://blog.starry-s.me/posts/learn-mcs8051/</id>
    
    <published>2020-11-03T08:30:02.000Z</published>
    
    
    <updated>2020-11-03T08:30:02.000Z</updated>
    
    
    <summary type="html">
      &lt;p&gt;赶在期中考试前把单片机的课后习题整理出来...&lt;/p&gt;
&lt;p&gt;(实在是没什么可拿来更新博客的了, 就干脆写点复习资料吧...)&lt;/p&gt;

    </summary>
    
    
    <content type="html">
      &lt;p&gt;赶在期中考试前把单片机的课后习题整理出来...&lt;/p&gt;
&lt;p&gt;(实在是没什么可拿来更新博客的了, 就干脆写点复习资料吧...)&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;

&lt;hr&gt;
&lt;div class=&quot;alert-blue&quot;&gt;
本篇内容为作者整理资料所得, 仅供学习使用。如需转载请务必遵守&lt;a style=&quot;color:#666&quot; href=&quot;https://creativecommons.org/licenses/by-nc-nd/4.0/deed.zh&quot; target=&quot;_blank&quot; rel=&quot;external nofollow noreferrer noopener&quot;&gt;CC BY-NC-ND 4.0&lt;/a&gt;协议。&lt;br&gt;
请勿将本篇内容当作权威的教学辅导资料来使用, 因无法保证100%准确, 仅供参考。&lt;br&gt;
如果发现了本篇存在的错误, 欢迎在页面下方提issue指正。&lt;br&gt;
&lt;/div&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;8051复位后从地址&lt;code&gt;0000H&lt;/code&gt;开始执行程序, SP的值为&lt;code&gt;07H&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;PC: 两字节(16位)寄存器, 也称程序计数器。&lt;/p&gt;
&lt;p&gt;SP: 堆栈指针, 指示出堆栈顶部在&lt;strong&gt;内部RAM块&lt;/strong&gt;中的位置。&lt;/p&gt;
&lt;p&gt;单片机的堆栈设在了内部RAM区, 单片机复位后, SP中的内容为&lt;code&gt;07H&lt;/code&gt;(指向第0组工作寄存器的R7), 堆栈实际上从08H开始。&lt;/p&gt;
&lt;p&gt;若SP被初始化为&lt;code&gt;39H&lt;/code&gt;, 则堆栈实际上是从&lt;code&gt;3AH&lt;/code&gt;开始的。&lt;/p&gt;
&lt;p&gt;执行&lt;code&gt;RET&lt;/code&gt;指令后, SP值减2 (因为PC为2字节寄存器), 将调用指令的下一条指令的首地址送入PC中。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;PSW中的RS1 RS0=&lt;code&gt;10B&lt;/code&gt;时, R2的RAM地址为&lt;code&gt;12H&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;PSW： 程序状态字寄存器, 从&lt;code&gt;PSW.7&lt;/code&gt;至&lt;code&gt;PSW.0&lt;/code&gt;分别为&lt;code&gt;Cy&lt;/code&gt;(进位标志位), &lt;code&gt;Ac&lt;/code&gt;(辅助进位标志位), &lt;code&gt;F0&lt;/code&gt;(标志位), &lt;code&gt;RS1&lt;/code&gt;和&lt;code&gt;RS0&lt;/code&gt;(寄存器区选择控制位), &lt;code&gt;OV&lt;/code&gt;(溢出位), 保留位, &lt;code&gt;P&lt;/code&gt;(奇偶标志位, 奇数为1, 偶数为0)。&lt;/p&gt;
&lt;p&gt;RS1 RS0 = &lt;code&gt;10B&lt;/code&gt;时, 使用第二组工作寄存器区, 第0组工作寄存器区R0-R7的地址为&lt;code&gt;00H-07H&lt;/code&gt;, 第1组为&lt;code&gt;08H-0FH&lt;/code&gt;, 第2组为&lt;code&gt;10H-17H&lt;/code&gt;, 第3组为&lt;code&gt;18H-1FH&lt;/code&gt;(每组长度为8个字节, 每个寄存器占1个字节)。&lt;/p&gt;
&lt;p&gt;因此, 当A为&lt;code&gt;01110010B&lt;/code&gt;时, PSW中P为0(偶数个1)。&lt;/p&gt;
&lt;p&gt;假设PSW为18H, 即&lt;code&gt;00011000B&lt;/code&gt;, 此时使用第3组工作寄存器, R0地址为18H, R7地址为1FH。&lt;/p&gt;
&lt;p&gt;复位后, 默认选择的寄存器区是0区。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;8051片外数据存储器的寻址空间为&lt;code&gt;0000H~0FFFFH&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;位地址&lt;code&gt;07H&lt;/code&gt;位于字节地址&lt;code&gt;20H&lt;/code&gt;, 位地址&lt;code&gt;7FH&lt;/code&gt;位于字节地址&lt;code&gt;2FH&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;片内RAM中&lt;code&gt;20H~2FH&lt;/code&gt;这16个单元即可进行共128位的位寻址, 也可进行字节寻址。&lt;/p&gt;
&lt;p&gt;字节地址及其位地址见下表所示：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&quot;center&quot;&gt;字节地址&lt;/th&gt;
&lt;th align=&quot;center&quot;&gt;D7&lt;/th&gt;
&lt;th align=&quot;center&quot;&gt;D6&lt;/th&gt;
&lt;th align=&quot;center&quot;&gt;D5&lt;/th&gt;
&lt;th align=&quot;center&quot;&gt;D4&lt;/th&gt;
&lt;th align=&quot;center&quot;&gt;D3&lt;/th&gt;
&lt;th align=&quot;center&quot;&gt;D2&lt;/th&gt;
&lt;th align=&quot;center&quot;&gt;D1&lt;/th&gt;
&lt;th align=&quot;center&quot;&gt;D0&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;2FH&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;7FH&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;7EH&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;7DH&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;7CH&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;7BH&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;7AH&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;79H&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;78H&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;2EH&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;77H&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;76H&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;75H&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;74H&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;73H&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;72H&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;71H&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;70H&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;2DH&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;6FH&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;6EH&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;6DH&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;6CH&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;6BH&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;6AH&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;69H&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;68H&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;...&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;...&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;20H&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;07H&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;06H&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;05H&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;04H&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;03H&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;02H&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;01H&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;00H&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;p&gt;因此&lt;code&gt;00H~07H&lt;/code&gt;位于字节地址&lt;code&gt;20H&lt;/code&gt;, &lt;code&gt;78H-7FH&lt;/code&gt;位于字节地址&lt;code&gt;2FH&lt;/code&gt;。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;访问外部存储器时, P0口用来传输低8位地址和数据, P2口用来传送高8位地址。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;访问外部存储器时, ALE的输出用于锁存低8位地址。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;一个机器周期为12个震荡周期&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;为保证读入数据正确, 在读一个端口引脚之前应先向相应的端口锁存器写1。&lt;/p&gt;
&lt;p&gt;如果在读一个端口引脚之前向对应的输出锁存器写了0, 将总是读到0。&lt;/p&gt;
&lt;p&gt;8051访问片存储器时, 利用ALE信号锁存来自P0的低8位地址信号。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;只能用直接寻址方式访问特殊功能寄存器。&lt;/p&gt;
&lt;p&gt;如果为8052单片机, 在访问高128字节的RAM时, 只能用间接寻址方式寻址。&lt;/p&gt;
&lt;p&gt;访问片外数据存储器64Kbyte时, 使用DPTR做间接寻址寄存器。&lt;/p&gt;
&lt;p&gt;使用&lt;code&gt;MOVX @DPTR&lt;/code&gt;类指令访问外部扩展存储器时, P2口输出高8位地址, P0口传送低8位地址和数据。&lt;/p&gt;
&lt;p&gt;8051中, &lt;code&gt;PC&lt;/code&gt;和&lt;code&gt;DPTR&lt;/code&gt;都用于提供地址时, &lt;code&gt;PC&lt;/code&gt;是&lt;strong&gt;用户程序不可访问的&lt;/strong&gt;,  &lt;code&gt;DPTR&lt;/code&gt;可以分为两个8位寄存器&lt;code&gt;DPH&lt;/code&gt;和&lt;code&gt;DPL&lt;/code&gt;使用。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;累加器A的值为&lt;code&gt;30H&lt;/code&gt;, 指令&lt;code&gt;MOVC A, @A+PC&lt;/code&gt;位于地址&lt;code&gt;3000H&lt;/code&gt;。执行该指令时, 程序存储器地址&lt;code&gt;3031H&lt;/code&gt;的内容被传送至累加器A。&lt;/p&gt;
&lt;p&gt;指令&lt;code&gt;MOVC A, @A+PC&lt;/code&gt;长度为1字节, 位于地址&lt;code&gt;3000H&lt;/code&gt;, 因此PC值为&lt;code&gt;3001H&lt;/code&gt;, 故&lt;code&gt;A+PC&lt;/code&gt;为&lt;code&gt;3031H&lt;/code&gt;。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;设SP的值为&lt;code&gt;5FH&lt;/code&gt;, 指令&lt;code&gt;LCALL DELAY&lt;/code&gt;所在地址为&lt;code&gt;2030H&lt;/code&gt;, 子程序DELAY所在地址为&lt;code&gt;20A0H&lt;/code&gt;, 则该指令完成的操作是将地址&lt;code&gt;2033H&lt;/code&gt;压入堆栈保存, 将地址&lt;code&gt;20A0H&lt;/code&gt;送入PC, SP的值应在该指令执行结束后变成&lt;code&gt;61H&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;单片机执行子程序或中断服务程序时, 需要保护现场, 即将PC当前的值压栈保存, 当子程序或中断服务程序运行结束后再进行出栈。(所以如果子程序修改了栈的内容, 在子程序运行结束后程序有可能会运行错误）。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;PC是16字节寄存器&lt;/strong&gt;, 所以SP需要加2, 以此分别保存PC的高、低8位的数据。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;LCALL addr16&lt;/code&gt;这条指令占3字节, 其中addr16占两字节, 因此程序可跳转64KB范围内的地址。&lt;/p&gt;
&lt;p&gt;(&lt;code&gt;ACALL&lt;/code&gt;指令只能跳转当前所在的&lt;strong&gt;2K范围内&lt;/strong&gt;的地址, 如果不涉及到片外数据存储器的话, 通常只用&lt;code&gt;SJMP&lt;/code&gt;和&lt;code&gt;AJMP&lt;/code&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;在网上搜到的答案「将&lt;code&gt;3500H&lt;/code&gt;送入PC」是错误的, 实际是将&lt;code&gt;20A0H&lt;/code&gt;送入PC, 因为DELAY所在的地址为&lt;code&gt;20A0H&lt;/code&gt;, 和&lt;code&gt;3500H&lt;/code&gt;一点关系都没有。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol start=&quot;12&quot;&gt;
&lt;li&gt;&lt;p&gt;&lt;code&gt;MOVC&lt;/code&gt;访问&lt;strong&gt;程序(ROM)**存储器, &lt;code&gt;MOVX&lt;/code&gt;指令访问&lt;/strong&gt;外部数据**存储器。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;MOVC&lt;/code&gt;为查表指令, 只有&lt;code&gt;MOCV @A+PC&lt;/code&gt;和&lt;code&gt;MOVC @A+DPTR&lt;/code&gt;这两条, 均为单子节指令。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;MOVX&lt;/code&gt;用于累加器A与外部数据存储器进行传送。&lt;/p&gt;
&lt;p&gt;可以是&lt;code&gt;MOVX A, @DPTR&lt;/code&gt;, &lt;code&gt;MOVX A, @Ri&lt;/code&gt;, &lt;code&gt;MOVX @DPTR, A&lt;/code&gt;, &lt;code&gt;MOVX @Ri, A&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;当采用Ri作间接寻址时, 只能寻找片外256个单元的数据存储器, 此时8位地址和数据均由P0口传送。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;假设指令&lt;code&gt;DJNZ R7, rel&lt;/code&gt;位于&lt;code&gt;005FH&lt;/code&gt;, 如果在执行该指令前寄存器R7值为&lt;code&gt;00H&lt;/code&gt;, 偏移量rel为&lt;code&gt;02H&lt;/code&gt;, 则该指令执行后下一条要执行的指令所在的地址是&lt;code&gt;0063H&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;DJNZ R7, rel&lt;/code&gt;位于&lt;code&gt;005FH&lt;/code&gt;, 该指令长度为&lt;strong&gt;2字节&lt;/strong&gt; (书上写的3字节是错的), 所以在执行这条指令开始时PC值在原来的基础上 + 2 变为&lt;code&gt;0061H&lt;/code&gt;。又因为rel为&lt;code&gt;02H&lt;/code&gt;, 所以执行这条指令后, PC值变为&lt;code&gt;0063H&lt;/code&gt;。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;分析下面子程序的功能, 假设8051单片机的震荡频率为6MHz。&lt;/p&gt;
&lt;figure data-raw=&quot;DL: MOV R7, #0AH
L0: MOV R6, #250
L1: NOP
    NOP
    DJNZ R6, L1
    DJNZ R7, L0
    RET&quot; data-info=&quot;language-asm&quot; data-lang=&quot;asm&quot; class=&quot;code-block highlight hljs&quot;&gt;&lt;pre class=&quot;gutter&quot;&gt;&lt;span class=&quot;line-number&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;2&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;3&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;4&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;5&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;6&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;7&lt;/span&gt;&lt;/pre&gt;&lt;pre class=&quot;code&quot;&gt;&lt;code class=&quot;language-avrasm&quot;&gt;&lt;span class=&quot;hljs-symbol&quot;&gt;DL:&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;MOV&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;R7&lt;/span&gt;, &lt;span class=&quot;hljs-meta&quot;&gt;#0AH&lt;/span&gt;
&lt;span class=&quot;hljs-symbol&quot;&gt;L0:&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;MOV&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;R6&lt;/span&gt;, &lt;span class=&quot;hljs-meta&quot;&gt;#250&lt;/span&gt;
&lt;span class=&quot;hljs-symbol&quot;&gt;L1:&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;NOP&lt;/span&gt;
    &lt;span class=&quot;hljs-keyword&quot;&gt;NOP&lt;/span&gt;
    DJNZ &lt;span class=&quot;hljs-built_in&quot;&gt;R6&lt;/span&gt;, L1
    DJNZ &lt;span class=&quot;hljs-built_in&quot;&gt;R7&lt;/span&gt;, L0
    &lt;span class=&quot;hljs-keyword&quot;&gt;RET&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;
&lt;p&gt;R7为10, R6为250, 因此两个&lt;code&gt;NOP&lt;/code&gt;加上一个&lt;code&gt;DJNZ&lt;/code&gt;一共循环了250次, 该250次的循环一共执行了10次。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;NOP&lt;/code&gt;为1周期指令, &lt;code&gt;DJNZ&lt;/code&gt;2周期指令, 两个&lt;code&gt;NOP&lt;/code&gt;加一个&lt;code&gt;DJNZ&lt;/code&gt;共4周期。&lt;/p&gt;
&lt;p&gt;6MHz下一个机器周期为12 / (6 * 10^6)= 2微秒, 12MHz下一个机器周期为1微秒。&lt;/p&gt;
&lt;p&gt;故程序该子程序延时了4 * 250 * 10 * 12 / (6 * 10^6) = 20(ms)。&lt;/p&gt;
&lt;p&gt;(实际上有10次&lt;code&gt;MOV R6, #250&lt;/code&gt;和10次&lt;code&gt;DJNZ R7, L0&lt;/code&gt;造成的30个机器周期的约0.6ms的误差)&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;To be continued...&lt;/p&gt;
&lt;/blockquote&gt;

    </content>
    
    
    <category term="单片机" label="单片机" scheme="https://blog.starry-s.me/categories/%E5%8D%95%E7%89%87%E6%9C%BA/" />
    
    
    <category term="单片机" label="单片机" scheme="https://blog.starry-s.me/tags/%E5%8D%95%E7%89%87%E6%9C%BA/" />
    
    <category term="学习资料" label="学习资料" scheme="https://blog.starry-s.me/tags/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/" />
    
  </entry>
  
  
  
  <entry>
    <title>惠普光影精灵4在Arch Linux下使用Optimus Manager配置双显卡</title>
    <link rel="alternate" type="text/html" href="https://blog.starry-s.me/posts/archlinux-pavilion-gaming-laptop/" />
    <id>https://blog.starry-s.me/posts/archlinux-pavilion-gaming-laptop/</id>
    
    <published>2020-07-19T07:29:57.000Z</published>
    
    
    <updated>2020-11-03T08:39:34.000Z</updated>
    
    
    <summary type="html">
      &lt;p&gt;自从高中毕业至今这台笔记本用了将近两年, 已经记不清当初为什么买了这台笔记本, 刚买来电脑第一次装Arch Linux时遇到了一些坑, 不过大多数的问题Google折腾一会或随着后续的软件更新基本上就都解决了, 唯独配置双显卡这个问题在用了两年后才算是找到了比较满意的解决方法（大概是）, &lt;del&gt;尽管现在这电脑已经停产了, 就算有人买了这台电脑也不一定会拿他装Arch Linux, 不过我还是打算把这个问题的解决过程记录一下&lt;/del&gt;（本篇讲的方法应该是适用于大多数N卡+i卡的笔记本电脑的, 只是有些细节不一样）, 以备我后续重装系统时有个参考。&lt;/p&gt;

    </summary>
    
    
    <content type="html">
      &lt;link href=&quot;/css/APlayer.min.css&quot; rel=&quot;stylesheet&quot;&gt;
&lt;script src= &quot;/js/APlayer.min.js&quot;&gt;&lt;/script&gt;
&lt;p&gt;自从高中毕业至今这台笔记本用了将近两年, 已经记不清当初为什么买了这台笔记本, 刚买来电脑第一次装Arch Linux时遇到了一些坑, 不过大多数的问题Google折腾一会或随着后续的软件更新基本上就都解决了, 唯独配置双显卡这个问题在用了两年后才算是找到了比较满意的解决方法（大概是）, &lt;del&gt;尽管现在这电脑已经停产了, 就算有人买了这台电脑也不一定会拿他装Arch Linux, 不过我还是打算把这个问题的解决过程记录一下&lt;/del&gt;（本篇讲的方法应该是适用于大多数N卡+i卡的笔记本电脑的, 只是有些细节不一样）, 以备我后续重装系统时有个参考。&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;

&lt;hr&gt;
 &lt;!--APlayer--&gt;
&lt;div id=&quot;aplayer0&quot; style=&quot;background: var(--color-main-background)&quot;&gt;&lt;/div&gt;
&lt;script&gt;
const ap0 = new APlayer ({
    container: document.getElementById(&quot;aplayer0&quot;),
    theme: &quot;#33363b&quot;,
    fixed: false,
    listFolded: false,
    listMaxHeight: false,
    lrcType: false,
    mini: false,
    volume: 0.7,
    order: &quot;list&quot;,
    loop: &quot;all&quot;,
    autoplay: false,
    audio: [{
        name: &quot;Kaleidoscope&quot;,
        artist: &quot;Vicetone / Grace Grundy&quot;,
        url: &quot;https://music.starry-s.me/music/560e_0558_060b_adc45c798222ffa86a4d1a0cb6ddf18f.m4a&quot;,
        cover: &quot;https://music.starry-s.me/music/cover/18671906464338403.jpg&quot;,
        lrc: &quot;&quot;,
        theme: &quot;#A26208&quot;
    }]
});
&lt;/script&gt;  

&lt;h1 id=&quot;先描述一下踩坑经过&quot;&gt;&lt;a class=&quot;header-link&quot; href=&quot;/posts/archlinux-pavilion-gaming-laptop/#%E5%85%88%E6%8F%8F%E8%BF%B0%E4%B8%80%E4%B8%8B%E8%B8%A9%E5%9D%91%E7%BB%8F%E8%BF%87&quot; title=&quot;先描述一下踩坑经过&quot;&gt;&lt;/a&gt;先描述一下踩坑经过&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;本段略微有些废话, 可以跳过&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;记得在刚买来这台笔记本（2018年夏）, Linux内核还没升到5.0的时候, 使用live CD装系统时会遇到&lt;code&gt;lspci&lt;/code&gt;卡死, 关机的时候会卡死的问题, 查系统日记都是一堆ACPI的报错。当时网上查了一下大概是内核和驱动一些bug, 没找到解决办法（补充：是nouveau的问题, 内核参数添加&lt;code&gt;modprobe.blacklist=nouveau&lt;/code&gt;禁用可以暂时解决问题）, Google到论坛的帖子说是在关机/重启发生卡死时直接长按电源关机就好了, 对电脑没有影响（找不到搜的回答了）&lt;/p&gt;
&lt;p&gt;装完系统后安装显卡驱动时想通过Bumblebee + bbswitch切换双显卡, 于是装了Gnome然后照着wiki配置完Bumblebee后重启电脑直接死机（补充：应该是bbswitch导致的ACPI锁死）。&lt;/p&gt;
&lt;p&gt;经过多次重装系统的折磨后, 发现只装Bumblebee不装bbswitch不&lt;code&gt;systemctl enable bumblebeed.service&lt;/code&gt;时, 能正常开机, 然后之前遇到的两个问题也莫名其妙就好了, 即系统重启关机不会卡死, &lt;code&gt;lspci&lt;/code&gt;也正常了（迷）&lt;/p&gt;
&lt;p&gt;之后, 在不装bbswitch的情况下, &lt;code&gt;systemctl enable bumblebeed&lt;/code&gt;再用&lt;code&gt;optirun&lt;/code&gt;和&lt;code&gt;primusrun&lt;/code&gt;这种方式用独显运行程序都没有问题。&lt;/p&gt;
&lt;p&gt;当时以为电脑不装bumblebee的话就没法正常关机, 于是就一直用着bumblebee切换双显卡, 玩游戏性能比Windows下差一点（貌似是显卡驱动的锅？）, 别的都没啥问题。&lt;/p&gt;
&lt;p&gt;今年年初买了一块拓展屏想搞双显示器, 本来显示器应该插上HDMI直接就能用的, 但是因为这电脑的HDMI走的独显输出, Bumblebee不能直接用, wiki上教的创建个intel的虚拟输出啥的方法有试过但是没成功过（不知道是配置文件写错了还是啥问题）, 于是又Google了一下后disable并卸了Bumblebee改用&lt;a href=&quot;https://wiki.archlinux.org/index.php/NVIDIA_Optimus#Use_NVIDIA_graphics_only&quot; target=&quot;_blank&quot; rel=&quot;external nofollow noreferrer noopener&quot;&gt;NVIDIA Optimus 只使用独显&lt;/a&gt;的方式, 这样双显示器倒是能用了, 但是如果笔记本只用电池没连着拓展屏的时候还跑着独显这也太费电了。&lt;/p&gt;
&lt;p&gt;所以最后找到了能切换显卡的&lt;a href=&quot;https://github.com/Askannz/optimus-manager&quot; target=&quot;_blank&quot; rel=&quot;external nofollow noreferrer noopener&quot;&gt;Optimus Manager&lt;/a&gt;。&lt;/p&gt;
&lt;h1 id=&quot;安装过程&quot;&gt;&lt;a class=&quot;header-link&quot; href=&quot;/posts/archlinux-pavilion-gaming-laptop/#%E5%AE%89%E8%A3%85%E8%BF%87%E7%A8%8B&quot; title=&quot;安装过程&quot;&gt;&lt;/a&gt;安装过程&lt;/h1&gt;
&lt;p&gt;照着&lt;a href=&quot;https://wiki.archlinux.org/index.php/NVIDIA_Optimus&quot; target=&quot;_blank&quot; rel=&quot;external nofollow noreferrer noopener&quot;&gt;Wiki&lt;/a&gt;和Optimus Manager的&lt;a href=&quot;https://github.com/Askannz/optimus-manager#optimus-manager&quot; target=&quot;_blank&quot; rel=&quot;external nofollow noreferrer noopener&quot;&gt;README&lt;/a&gt;。首先安装好显卡驱动相关的软件, 如果有Bumblebee的话使用&lt;code&gt;systemctl disable bumblebeed&lt;/code&gt;停用。&lt;/p&gt;
&lt;p&gt;首先清除（记得备份）&lt;code&gt;/etc/X11/xorg.conf.d/&lt;/code&gt;下的配置文件, 并删掉（记得备份）&lt;code&gt;/etc/X11/xorg.conf&lt;/code&gt;（如果有的话）, 因为Optimus Manager会自动生成配置文件存放到&lt;code&gt;/etc/X11/xorg.conf.d/&lt;/code&gt;里面, 所以建议安装前把显示配置相关的文件都清除掉。&lt;/p&gt;
&lt;p&gt;使用Arch Linux CN源或者通过AUR Helper安装&lt;code&gt;optimus-manager&lt;/code&gt;。&lt;/p&gt;
&lt;figure data-raw=&quot;# Arch Linux CN
$ sudo pacman -S optimus-manager
# AUR
$ yay -S optimus-manager&quot; class=&quot;code-block highlight hljs&quot;&gt;&lt;pre class=&quot;gutter&quot;&gt;&lt;span class=&quot;line-number&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;2&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;3&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;4&lt;/span&gt;&lt;/pre&gt;&lt;pre class=&quot;code&quot;&gt;&lt;code class=&quot;language-elixir&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;# Arch Linux CN&lt;/span&gt;
&lt;span class=&quot;hljs-variable&quot;&gt;$ &lt;/span&gt;sudo pacman -S optimus-manager
&lt;span class=&quot;hljs-comment&quot;&gt;# AUR&lt;/span&gt;
&lt;span class=&quot;hljs-variable&quot;&gt;$ &lt;/span&gt;yay -S optimus-manager&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;
&lt;p&gt;因为我用的Gnome, 参照&lt;a href=&quot;https://github.com/Askannz/optimus-manager#important--gnome-and-gdm-users&quot; target=&quot;_blank&quot; rel=&quot;external nofollow noreferrer noopener&quot;&gt;README中说的&lt;/a&gt;卸载掉&lt;code&gt;gdm&lt;/code&gt;并安装&lt;code&gt;gdm-prime&lt;/code&gt;&lt;sup&gt;AUR&lt;/sup&gt;。（国内下载源代码的速度极慢建议挂梯子, 或者挂梯子克隆&lt;a href=&quot;https://gitlab.gnome.org/GNOME/gdm&quot; target=&quot;_blank&quot; rel=&quot;external nofollow noreferrer noopener&quot;&gt;GDM的代码&lt;/a&gt;到&lt;code&gt;~/.cache/yay/gdm-prime/gdm&lt;/code&gt;下。）&lt;/p&gt;
&lt;p&gt;修改&lt;code&gt;/etc/gdm/custom.conf&lt;/code&gt;, 移除&lt;code&gt;WaylandEnable=false&lt;/code&gt;一行前面的&lt;code&gt;#&lt;/code&gt;禁用Wayland而使用X。&lt;/p&gt;
&lt;h2 id=&quot;修改配置文件&quot;&gt;&lt;a class=&quot;header-link&quot; href=&quot;/posts/archlinux-pavilion-gaming-laptop/#%E4%BF%AE%E6%94%B9%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6&quot; title=&quot;修改配置文件&quot;&gt;&lt;/a&gt;修改配置文件&lt;/h2&gt;
&lt;figure data-raw=&quot;$ sudo cp /usr/share/optimus-manager.conf /etc/optimus-manager/optimus-manager.conf&quot; class=&quot;code-block highlight hljs&quot;&gt;&lt;pre class=&quot;gutter&quot;&gt;&lt;span class=&quot;line-number&quot;&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;pre class=&quot;code&quot;&gt;&lt;code class=&quot;language-awk&quot;&gt;$ sudo cp &lt;span class=&quot;hljs-regexp&quot;&gt;/usr/&lt;/span&gt;share&lt;span class=&quot;hljs-regexp&quot;&gt;/optimus-manager.conf /&lt;/span&gt;etc&lt;span class=&quot;hljs-regexp&quot;&gt;/optimus-manager/&lt;/span&gt;optimus-manager.conf&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;
&lt;p&gt;不要编辑&lt;code&gt;/usr/share/&lt;/code&gt;下的文件, 编辑&lt;code&gt;/etc/optimus-manager/optimus-manager.conf&lt;/code&gt;, 将切换方式设为&lt;code&gt;switching=none&lt;/code&gt;, 不推荐使用bbswitch（见&lt;a href=&quot;/posts/archlinux-pavilion-gaming-laptop/#Others&quot;&gt;后续第一条&lt;/a&gt;）, 设置&lt;code&gt;pci_power_control=yes&lt;/code&gt;让PCI Power Management切换显卡。&lt;/p&gt;
&lt;p&gt;之后根据需求来修改开机自动选择显卡：&lt;/p&gt;
&lt;figure data-raw=&quot;startup_mode=auto
startup_auto_battery_mode=intel
startup_auto_extpower_mode=nvidia&quot; data-info=&quot;language-conf&quot; data-lang=&quot;conf&quot; class=&quot;code-block highlight hljs&quot;&gt;&lt;pre class=&quot;gutter&quot;&gt;&lt;span class=&quot;line-number&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;2&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;3&lt;/span&gt;&lt;/pre&gt;&lt;pre class=&quot;code&quot;&gt;&lt;code class=&quot;language-ini&quot;&gt;&lt;span class=&quot;hljs-attr&quot;&gt;startup_mode&lt;/span&gt;=auto
&lt;span class=&quot;hljs-attr&quot;&gt;startup_auto_battery_mode&lt;/span&gt;=intel
&lt;span class=&quot;hljs-attr&quot;&gt;startup_auto_extpower_mode&lt;/span&gt;=nvidia&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;
&lt;p&gt;这里我设置的是用电池时使用集成显卡, 用电源时使用独显。&lt;/p&gt;
&lt;p&gt;最后贴一下全部的配置文件, 除了上述的几处修改以外其他均为默认值, 仅供参考。&lt;/p&gt;
&lt;figure data-raw=&quot;[optimus]

# This parameter defines the method used to power switch the Nvidia card. See the documentation
# for a complete description of what each value does. Possible values :
#
# - nouveau : load the nouveau module on the Nvidia card.
# - bbswitch : power off the card using the bbswitch module (requires the bbswitch dependency).
# - acpi_call : try various ACPI method calls to power the card on and off (requires the acpi_call dependency)
# - custom: use custom scripts at /etc/optimus-manager/nvidia-enable.sh and /etc/optimus-manager/nvidia-disable.sh
# - none : do not use an external module for power management. For some laptop models it&#039;s preferable to
#          use this option in combination with pci_power_control (see below).
switching=none

# Enable PCI power management in Intel mode.
# This option is incompatible with acpi_call and bbswitch, so it will be ignored in those cases.
pci_power_control=yes

# Remove the Nvidia card from the PCI bus.
# May prevent crashes caused by power switching.
# Ignored if switching=nouveau or switching=bbswitch.
pci_remove=yes

# Reset the Nvidia card at the PCI level before reloading the nvidia module.
# Ensures the card is in a fresh state before reloading the nvidia module.
# May fix some switching issues. Possible values :
#
# - no : does not perform any reset
# - function_level : perform a light &amp;quot;function-level&amp;quot; reset
# - hot_reset : perform a &amp;quot;hot reset&amp;quot; of the PCI bridge. ATTENTION : this method messes with the hardware
#         directly, please read the online documentation of optimus-manager before using it.
#         Also, it will perform a PCI remove even if pci_remove=no.
#
pci_reset=no

# Automatically log out the current desktop session when switching GPUs.
# This feature is currently supported for the following DE/WM :
# KDE Plasma, GNOME, XFCE, LXDE, Deepin, i3, Openbox, AwesomeWM, bspwm
# If this option is disabled or you use a different desktop environment,
# GPU switching only becomes effective at the next graphical session login.
auto_logout=yes

# GPU mode to use at computer startup. Possible values: nvidia, intel, hybrid, auto
# &amp;quot;auto&amp;quot; is a special mode that auto-detects if the computer is running on battery
# and selects a proper GPU mode. See the other options below.
startup_mode=auto
# GPU mode to select when startup_mode=auto and the computer is running on battery.
# Possible values: nvidia, intel, hybrid
startup_auto_battery_mode=intel
# GPU mode to select when startup_mode=auto and the computer is running on external power.
# Possible values: nvidia, intel, hybrid
startup_auto_extpower_mode=nvidia


[intel]

# Driver to use for the Intel GPU. Possible values : modesetting, intel
# To use the intel driver, you need to install the package &amp;quot;xf86-video-intel&amp;quot;.
driver=modesetting

# Acceleration method (corresponds to AccelMethod in the Xorg configuration).
# Only applies to the intel driver.
# Possible values : sna, xna, uxa
# Leave blank for the default (no option specified)
accel=

# Enable TearFree option in the Xorg configuration.
# Only applies to the intel driver.
# Possible values : yes, no
# Leave blank for the default (no option specified)
tearfree=

# DRI version. Possible values : 2, 3
DRI=3

# Whether or not to enable modesetting for the nouveau driver.
# Does not affect modesetting for the Intel GPU driver !
# This option only matters if you use nouveau as the switching backend.
modeset=yes

[nvidia]

# Whether or not to enable modesetting. Required for PRIME Synchronization (which prevents tearing).
modeset=yes

# Whether or not to enable the NVreg_UsePageAttributeTable option in the Nvidia driver.
# Recommended, can cause poor CPU performance otherwise.
PAT=yes

# DPI value. This will be set using the Xsetup script passed to your login manager.
# It will run the command
# xrandr --dpi &lt;DPI&gt;
# Leave blank for the default (the above command will not be run).
DPI=96

# If you&#039;re running an updated version of xorg-server (let&#039;s say to get PRIME Render offload enabled),
# the nvidia driver may not load because of an ABI version mismatch. Setting this flag to &amp;quot;yes&amp;quot;
# will allow the loading of the nvidia driver.
ignore_abi=no

# Set to yes if you want to use optimus-manager with external Nvidia GPUs (experimental)
allow_external_gpus=no

# Comma-separated list of Nvidia-specific options to apply.
# Available options :
# - overclocking : enable CoolBits in the Xorg configuration, which unlocks clocking options
#   in the Nvidia control panel. Note: does not work in hybrid mode.
# - triple_buffer : enable triple buffering.
options=overclocking
&quot; data-info=&quot;language-conf&quot; data-lang=&quot;conf&quot; class=&quot;code-block highlight hljs&quot;&gt;&lt;pre class=&quot;gutter&quot;&gt;&lt;span class=&quot;line-number&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;2&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;3&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;4&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;5&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;6&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;7&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;8&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;9&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;10&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;11&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;12&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;13&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;14&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;15&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;16&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;17&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;18&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;19&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;20&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;21&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;22&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;23&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;24&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;25&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;26&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;27&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;28&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;29&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;30&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;31&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;32&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;33&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;34&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;35&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;36&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;37&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;38&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;39&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;40&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;41&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;42&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;43&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;44&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;45&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;46&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;47&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;48&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;49&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;50&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;51&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;52&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;53&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;54&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;55&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;56&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;57&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;58&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;59&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;60&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;61&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;62&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;63&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;64&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;65&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;66&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;67&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;68&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;69&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;70&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;71&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;72&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;73&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;74&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;75&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;76&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;77&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;78&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;79&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;80&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;81&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;82&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;83&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;84&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;85&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;86&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;87&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;88&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;89&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;90&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;91&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;92&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;93&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;94&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;95&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;96&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;97&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;98&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;99&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;100&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;101&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;102&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;103&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;104&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;105&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;106&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;107&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;108&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;109&lt;/span&gt;&lt;/pre&gt;&lt;pre class=&quot;code&quot;&gt;&lt;code class=&quot;language-routeros&quot;&gt;[optimus]

&lt;span class=&quot;hljs-comment&quot;&gt;# This parameter defines the method used to power switch the Nvidia card. See the documentation&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;# for a complete description of what each value does. Possible values :&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;#&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;# - nouveau : load the nouveau module on the Nvidia card.&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;# - bbswitch : power off the card using the bbswitch module (requires the bbswitch dependency).&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;# - acpi_call : try various ACPI method calls to power the card on and off (requires the acpi_call dependency)&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;# - custom: use custom scripts at /etc/optimus-manager/nvidia-enable.sh and /etc/optimus-manager/nvidia-disable.sh&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;# - none : do not use an external module for power management. For some laptop models it&#039;s preferable to&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;#          use this option in combination with pci_power_control (see below).&lt;/span&gt;
&lt;span class=&quot;hljs-attribute&quot;&gt;switching&lt;/span&gt;=none

&lt;span class=&quot;hljs-comment&quot;&gt;# Enable PCI power management in Intel mode.&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;# This option is incompatible with acpi_call and bbswitch, so it will be ignored in those cases.&lt;/span&gt;
&lt;span class=&quot;hljs-attribute&quot;&gt;pci_power_control&lt;/span&gt;=&lt;span class=&quot;hljs-literal&quot;&gt;yes&lt;/span&gt;

&lt;span class=&quot;hljs-comment&quot;&gt;# Remove the Nvidia card from the PCI bus.&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;# May prevent crashes caused by power switching.&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;# Ignored if switching=nouveau or switching=bbswitch.&lt;/span&gt;
&lt;span class=&quot;hljs-attribute&quot;&gt;pci_remove&lt;/span&gt;=&lt;span class=&quot;hljs-literal&quot;&gt;yes&lt;/span&gt;

&lt;span class=&quot;hljs-comment&quot;&gt;# Reset the Nvidia card at the PCI level before reloading the nvidia module.&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;# Ensures the card is in a fresh state before reloading the nvidia module.&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;# May fix some switching issues. Possible values :&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;#&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;# - no : does not perform any reset&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;# - function_level : perform a light &quot;function-level&quot; reset&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;# - hot_reset : perform a &quot;hot reset&quot; of the PCI bridge. ATTENTION : this method messes with the hardware&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;#         directly, please read the online documentation of optimus-manager before using it.&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;#         Also, it will perform a PCI remove even if pci_remove=no.&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;#&lt;/span&gt;
&lt;span class=&quot;hljs-attribute&quot;&gt;pci_reset&lt;/span&gt;=&lt;span class=&quot;hljs-literal&quot;&gt;no&lt;/span&gt;

&lt;span class=&quot;hljs-comment&quot;&gt;# Automatically log out the current desktop session when switching GPUs.&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;# This feature is currently supported for the following DE/WM :&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;# KDE Plasma, GNOME, XFCE, LXDE, Deepin, i3, Openbox, AwesomeWM, bspwm&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;# If this option is disabled or you use a different desktop environment,&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;# GPU switching only becomes effective at the next graphical session login.&lt;/span&gt;
&lt;span class=&quot;hljs-attribute&quot;&gt;auto_logout&lt;/span&gt;=&lt;span class=&quot;hljs-literal&quot;&gt;yes&lt;/span&gt;

&lt;span class=&quot;hljs-comment&quot;&gt;# GPU mode to use at computer startup. Possible values: nvidia, intel, hybrid, auto&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;# &quot;auto&quot; is a special mode that auto-detects if the computer is running on battery&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;# and selects a proper GPU mode. See the other options below.&lt;/span&gt;
&lt;span class=&quot;hljs-attribute&quot;&gt;startup_mode&lt;/span&gt;=auto
&lt;span class=&quot;hljs-comment&quot;&gt;# GPU mode to select when startup_mode=auto and the computer is running on battery.&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;# Possible values: nvidia, intel, hybrid&lt;/span&gt;
&lt;span class=&quot;hljs-attribute&quot;&gt;startup_auto_battery_mode&lt;/span&gt;=intel
&lt;span class=&quot;hljs-comment&quot;&gt;# GPU mode to select when startup_mode=auto and the computer is running on external power.&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;# Possible values: nvidia, intel, hybrid&lt;/span&gt;
&lt;span class=&quot;hljs-attribute&quot;&gt;startup_auto_extpower_mode&lt;/span&gt;=nvidia


[intel]

&lt;span class=&quot;hljs-comment&quot;&gt;# Driver to use for the Intel GPU. Possible values : modesetting, intel&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;# To use the intel driver, you need to install the package &quot;xf86-video-intel&quot;.&lt;/span&gt;
&lt;span class=&quot;hljs-attribute&quot;&gt;driver&lt;/span&gt;=modesetting

&lt;span class=&quot;hljs-comment&quot;&gt;# Acceleration method (corresponds to AccelMethod in the Xorg configuration).&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;# Only applies to the intel driver.&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;# Possible values : sna, xna, uxa&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;# Leave blank for the default (no option specified)&lt;/span&gt;
accel=

&lt;span class=&quot;hljs-comment&quot;&gt;# Enable TearFree option in the Xorg configuration.&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;# Only applies to the intel driver.&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;# Possible values : yes, no&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;# Leave blank for the default (no option specified)&lt;/span&gt;
tearfree=

&lt;span class=&quot;hljs-comment&quot;&gt;# DRI version. Possible values : 2, 3&lt;/span&gt;
&lt;span class=&quot;hljs-attribute&quot;&gt;DRI&lt;/span&gt;=3

&lt;span class=&quot;hljs-comment&quot;&gt;# Whether or not to enable modesetting for the nouveau driver.&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;# Does not affect modesetting for the Intel GPU driver !&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;# This option only matters if you use nouveau as the switching backend.&lt;/span&gt;
&lt;span class=&quot;hljs-attribute&quot;&gt;modeset&lt;/span&gt;=&lt;span class=&quot;hljs-literal&quot;&gt;yes&lt;/span&gt;

[nvidia]

&lt;span class=&quot;hljs-comment&quot;&gt;# Whether or not to enable modesetting. Required for PRIME Synchronization (which prevents tearing).&lt;/span&gt;
&lt;span class=&quot;hljs-attribute&quot;&gt;modeset&lt;/span&gt;=&lt;span class=&quot;hljs-literal&quot;&gt;yes&lt;/span&gt;

&lt;span class=&quot;hljs-comment&quot;&gt;# Whether or not to enable the NVreg_UsePageAttributeTable option in the Nvidia driver.&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;# Recommended, can cause poor CPU performance otherwise.&lt;/span&gt;
&lt;span class=&quot;hljs-attribute&quot;&gt;PAT&lt;/span&gt;=&lt;span class=&quot;hljs-literal&quot;&gt;yes&lt;/span&gt;

&lt;span class=&quot;hljs-comment&quot;&gt;# DPI value. This will be set using the Xsetup script passed to your login manager.&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;# It will run the command&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;# xrandr --dpi &amp;lt;DPI&amp;gt;&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;# Leave blank for the default (the above command will not be run).&lt;/span&gt;
&lt;span class=&quot;hljs-attribute&quot;&gt;DPI&lt;/span&gt;=96

&lt;span class=&quot;hljs-comment&quot;&gt;# If you&#039;re running an updated version of xorg-server (let&#039;s say to get PRIME Render offload enabled),&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;# the nvidia driver may not load because of an ABI version mismatch. Setting this flag to &quot;yes&quot;&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;# will allow the loading of the nvidia driver.&lt;/span&gt;
&lt;span class=&quot;hljs-attribute&quot;&gt;ignore_abi&lt;/span&gt;=&lt;span class=&quot;hljs-literal&quot;&gt;no&lt;/span&gt;

&lt;span class=&quot;hljs-comment&quot;&gt;# Set to yes if you want to use optimus-manager with external Nvidia GPUs (experimental)&lt;/span&gt;
&lt;span class=&quot;hljs-attribute&quot;&gt;allow_external_gpus&lt;/span&gt;=&lt;span class=&quot;hljs-literal&quot;&gt;no&lt;/span&gt;

&lt;span class=&quot;hljs-comment&quot;&gt;# Comma-separated list of Nvidia-specific options to apply.&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;# Available options :&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;# - overclocking : enable CoolBits in the Xorg configuration, which unlocks clocking options&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;#   in the Nvidia control panel. &lt;span class=&quot;hljs-doctag&quot;&gt;Note:&lt;/span&gt; does not work in hybrid mode.&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;# - triple_buffer : enable triple buffering.&lt;/span&gt;
&lt;span class=&quot;hljs-attribute&quot;&gt;options&lt;/span&gt;=overclocking
&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;
&lt;h1 id=&quot;食用方法&quot;&gt;&lt;a class=&quot;header-link&quot; href=&quot;/posts/archlinux-pavilion-gaming-laptop/#%E9%A3%9F%E7%94%A8%E6%96%B9%E6%B3%95&quot; title=&quot;食用方法&quot;&gt;&lt;/a&gt;食用方法&lt;/h1&gt;
&lt;p&gt;&lt;code&gt;optimus-manager --switch nvidia&lt;/code&gt;切换到独显（nvidia）&lt;/p&gt;
&lt;p&gt;&lt;code&gt;optimus-manager --switch intel&lt;/code&gt;切换到集显（intel）&lt;/p&gt;
&lt;p&gt;安装&lt;code&gt;mesa-demos&lt;/code&gt;后, 使用&lt;code&gt;glxinfo | grep &quot;OpenGL renderer&quot;&lt;/code&gt;查看当前正使用的显卡&lt;/p&gt;
&lt;p&gt;其他用法参见&lt;a href=&quot;https://github.com/Askannz/optimus-manager#usage&quot; target=&quot;_blank&quot; rel=&quot;external nofollow noreferrer noopener&quot;&gt;Usage&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;注意：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;切换显卡的过程中会自动注销登录, 所以记得&lt;strong&gt;保存并关掉电脑正在运行的程序&lt;/strong&gt;。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;你可以在配置文件中修改&lt;code&gt;auto_logout=false&lt;/code&gt;禁止自动注销以手动注销切换显卡。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;Others&quot;&gt;&lt;a class=&quot;header-link&quot; href=&quot;/posts/archlinux-pavilion-gaming-laptop/#Others&quot; title=&quot;Others&quot;&gt;&lt;/a&gt;Others&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;之所以不推荐使用&lt;code&gt;bbswitch&lt;/code&gt;是因为容易遇到&lt;strong&gt;ACPI锁死&lt;/strong&gt;的问题, &lt;a href=&quot;https://wiki.archlinux.org/index.php/NVIDIA_Optimus#Lockup_issue_(lspci_hangs)&quot; target=&quot;_blank&quot; rel=&quot;external nofollow noreferrer noopener&quot;&gt;参考Wiki&lt;/a&gt;, 需要添加&lt;a href=&quot;https://wiki.archlinux.org/index.php/Kernel_parameters&quot; target=&quot;_blank&quot; rel=&quot;external nofollow noreferrer noopener&quot;&gt;内核参数&lt;/a&gt;&lt;code&gt;acpi_osi=! acpi_osi=&quot;Windows 2009&quot;&lt;/code&gt;或&lt;code&gt;acpi_osi=&quot;!Windows 2015&quot;&lt;/code&gt;启动, 如果你遇到了锁死可以通过开机时在&lt;a href=&quot;https://wiki.archlinux.org/index.php/Arch_boot_process#Boot_loader&quot; target=&quot;_blank&quot; rel=&quot;external nofollow noreferrer noopener&quot;&gt;启动加载器界面&lt;/a&gt;编辑添加内核参数来正常进入系统, 如果你用的是efistub或者没办法编辑内核参数的话就只能用live CD救你的电脑了。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;如果用不了&lt;code&gt;lspci&lt;/code&gt;, 电脑没法正常关机的话, 是nouveau的问题, 可添加内核参数&lt;code&gt;modprobe.blacklist=nouveau&lt;/code&gt;禁用。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;因为前几天改配置文件时又踩了一遍锁死的坑, 于是拿着相机内存卡（我U盘放学校寝室里拿不出来了）做了最新的(2020.07.01)live CD救砖时, 惊喜的发现在live环境下&lt;code&gt;lspci&lt;/code&gt;和关机都不会卡死了, &lt;del&gt;貌似是新版内核驱动修复了nouveau的问题&lt;/del&gt; 应该是我在几个月前升级了电脑的Bios解决的这个问题, 因为我又新下了一个旧的live CD, 关机和lspci也都正常了（算了不管到底是怎么回事了, 能用就行&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;在切换显卡自动注销后, gdm界面不会自动加载出来而是一直黑屏, 这时需要手动切换到tty2再切回tty1才能加载出来, 貌似是gdm-prime的问题。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;(本条与配置显卡无关) 因为电脑用的intel网卡, 如果遇到蓝牙耳机无法连接的情况, 安装&lt;code&gt;pulseaudio&lt;/code&gt;和&lt;code&gt;pulseaudio-modues-bt&lt;/code&gt;等耳机需要的蓝牙组件, 照着Wiki上的&lt;a href=&quot;https://wiki.archlinux.org/index.php/Wireless_network_configuration#Bluetooth_coexistence&quot; target=&quot;_blank&quot; rel=&quot;external nofollow noreferrer noopener&quot;&gt;禁用Bluetooth coexistence&lt;/a&gt;解决此问题。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;div style=&quot;text-align:center&quot;&gt;
    &lt;img src=&quot;/posts/archlinux-pavilion-gaming-laptop/images/1.png&quot;&gt;
&lt;/div&gt;
    </content>
    
    
    <category term="Linux" label="Linux" scheme="https://blog.starry-s.me/categories/Linux/" />
    
    
    <category term="Arch Linux" label="Arch Linux" scheme="https://blog.starry-s.me/tags/Arch%20Linux/" />
    
    <category term="NVIDIA Optimus" label="NVIDIA Optimus" scheme="https://blog.starry-s.me/tags/NVIDIA%20Optimus/" />
    
  </entry>
  
  
  
  <entry>
    <title>小米路由器3G折腾之刷OpenWrt记录</title>
    <link rel="alternate" type="text/html" href="https://blog.starry-s.me/posts/Xiaomi_Miwifi_3G/" />
    <id>https://blog.starry-s.me/posts/Xiaomi_Miwifi_3G/</id>
    
    <published>2019-02-18T16:49:20.000Z</published>
    
    
    <updated>2020-08-25T05:25:59.000Z</updated>
    
    
    <summary type="html">
      &lt;div class=&quot;alert-red&quot;&gt;本篇恢复自旧博客, 由于创作时间过于久远, 作者已无法保证其准确性, 内容仅供参考。&lt;/div&gt;

&lt;p&gt;生命不息, 折腾不止...&lt;/p&gt;

    </summary>
    
    
    <content type="html">
      &lt;link href=&quot;/css/APlayer.min.css&quot; rel=&quot;stylesheet&quot;&gt;
&lt;script src= &quot;/js/APlayer.min.js&quot;&gt;&lt;/script&gt;
&lt;div class=&quot;alert-red&quot;&gt;本篇恢复自旧博客, 由于创作时间过于久远, 作者已无法保证其准确性, 内容仅供参考。&lt;/div&gt;

&lt;p&gt;生命不息, 折腾不止...&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;

&lt;hr&gt;
 &lt;!--APlayer--&gt;
&lt;div id=&quot;aplayer0&quot; style=&quot;background: var(--color-main-background)&quot;&gt;&lt;/div&gt;
&lt;script&gt;
const ap0 = new APlayer ({
    container: document.getElementById(&quot;aplayer0&quot;),
    theme: &quot;#33363b&quot;,
    fixed: false,
    listFolded: false,
    listMaxHeight: false,
    lrcType: false,
    mini: false,
    volume: 0.7,
    order: &quot;list&quot;,
    loop: &quot;all&quot;,
    autoplay: false,
    audio: [{
        name: &quot;Mallow Flower&quot;,
        artist: &quot;Otokaze&quot;,
        url: &quot;https://music.starry-s.me/music/969d_ef88_965d_f8693c4f0a65db94a9cc0ebb9be2bd06.mp3&quot;,
        cover: &quot;https://music.starry-s.me/music/cover/781752767371058.jpg&quot;,
        lrc: &quot;&quot;,
        theme: &quot;#EFCE82&quot;
    }]
});
&lt;/script&gt;  

&lt;h1 id=&quot;准备工作&quot;&gt;&lt;a class=&quot;header-link&quot; href=&quot;/posts/Xiaomi_Miwifi_3G/#%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C&quot; title=&quot;准备工作&quot;&gt;&lt;/a&gt;准备工作&lt;/h1&gt;
&lt;p&gt;你至少需要以下工具：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;路由器本体&lt;/li&gt;
&lt;li&gt;网线&lt;/li&gt;
&lt;li&gt;一个已格式化为FAT/FAT32格式的U盘, 用来刷开发者固件和ssh激活工具&lt;/li&gt;
&lt;li&gt;一根怼&lt;code&gt;Reset&lt;/code&gt;钮的针&lt;/li&gt;
&lt;li&gt;Windows用户需要一个SSH软件（例如：&lt;a href=&quot;https://putty.org&quot; target=&quot;_blank&quot; rel=&quot;external nofollow noreferrer noopener&quot;&gt;putty&lt;/a&gt;）&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www1.miwifi.com/miwifi_download.html&quot; target=&quot;_blank&quot; rel=&quot;external nofollow noreferrer noopener&quot;&gt;小米路由器客户端&lt;/a&gt;, 用来绑定你的小米账号&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;SSH到路由器&quot;&gt;&lt;a class=&quot;header-link&quot; href=&quot;/posts/Xiaomi_Miwifi_3G/#SSH%E5%88%B0%E8%B7%AF%E7%94%B1%E5%99%A8&quot; title=&quot;SSH到路由器&quot;&gt;&lt;/a&gt;SSH到路由器&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;路由器重启后指示灯会变为蓝色, 若变为红色则为刷机失败。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;安装开发者固件并开启SSH权限：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;在&lt;a href=&quot;http://www1.miwifi.com/miwifi_download.html&quot; target=&quot;_blank&quot; rel=&quot;external nofollow noreferrer noopener&quot;&gt;MiWiFi下载页面&lt;/a&gt;下载所需要的路由器开发者固件（ROM -&amp;gt; ROM for R3G开发版）,命名为&lt;code&gt;miwifi.bin&lt;/code&gt;。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;路由器断电, 将下载好的开发者固件放入U盘插入路由器USB接口, 捅住reset扭接上电源后待指示灯为黄色闪烁时松开, 数分钟后路由器会自动重启, 此过程不要乱动路由器。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;小米路由器客户端登陆小米账号绑定路由器设备, 此过程需要路由器联网。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www1.miwifi.com/miwifi_open.html&quot; target=&quot;_blank&quot; rel=&quot;external nofollow noreferrer noopener&quot;&gt;MiWiFi开放平台&lt;/a&gt;登陆小米账号下载ssh激活工具命名为&lt;code&gt;miwifi_ssh.bin&lt;/code&gt;, 记下root密码。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;操作方式同第二步骤, 刷入ssh激活工具。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;SSH到路由器:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Windows系统用putty, ip为&lt;code&gt;191.168.31.1&lt;/code&gt;, 用户名：&lt;code&gt;root&lt;/code&gt;, 密码为下载激活ssh工具时记下的密码。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Unix/Linux系统终端执行：&lt;code&gt;ssh root@191.168.31.1&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;刷入Bootloader（推荐可选）&quot;&gt;&lt;a class=&quot;header-link&quot; href=&quot;/posts/Xiaomi_Miwifi_3G/#%E5%88%B7%E5%85%A5Bootloader%EF%BC%88%E6%8E%A8%E8%8D%90%E5%8F%AF%E9%80%89%EF%BC%89&quot; title=&quot;刷入Bootloader（推荐可选）&quot;&gt;&lt;/a&gt;刷入Bootloader（推荐/可选）&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;该步骤可选是因为Breed不支持直接刷入Openwrt固件, 可参考&lt;a href=&quot;https://www.right.com.cn/forum/forum.php?mod=viewthread&amp;amp;tid=267455&quot; target=&quot;_blank&quot; rel=&quot;external nofollow noreferrer noopener&quot;&gt;这篇帖子&lt;/a&gt;, 不过为了防止变砖, 还是推荐刷Breed。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Breed原作者为hackpascal, &lt;a href=&quot;https://breed.hackpascal.net/&quot; target=&quot;_blank&quot; rel=&quot;external nofollow noreferrer noopener&quot;&gt;此处为下载地址&lt;/a&gt;, 文件名为&lt;code&gt;breed-mt7621-xiaomi-r3g.bin&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;第一种方法是ssh到路由器后通过&lt;code&gt;wget&lt;/code&gt;下载breed文件再刷入（需要确保路由器联网）, 下载地址为https所以需要加上&lt;code&gt;--no-check-certificate&lt;/code&gt;参数。&lt;/p&gt;
&lt;figure data-raw=&quot;cd /tmp
wget --no-check-certificate https://breed.hackpascal.net/breed-mt7621-xiaomi-r3g.bin -O breed.bin
mtd -r write breed.bin Bootloader&quot; class=&quot;code-block highlight hljs&quot;&gt;&lt;pre class=&quot;gutter&quot;&gt;&lt;span class=&quot;line-number&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;2&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;3&lt;/span&gt;&lt;/pre&gt;&lt;pre class=&quot;code&quot;&gt;&lt;code class=&quot;language-jboss-cli&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;/tmp&lt;/span&gt;
wget &lt;span class=&quot;hljs-params&quot;&gt;--no-check-certificate&lt;/span&gt; https:&lt;span class=&quot;hljs-string&quot;&gt;//breed.hackpascal.net/breed-mt7621-xiaomi-r3g.bin&lt;/span&gt; -O breed.bin
mtd -r write breed.bin Bootloader&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;
&lt;p&gt;另一种方法是将breed通过U盘拷贝到路由器再刷入。&lt;/p&gt;
&lt;figure data-raw=&quot;mkdir /tmp/sdcard
mount /dev/sda1 /tmp/sdcard
mtd -r write /tmp/sdcard/breed.bin Bootloader&quot; class=&quot;code-block highlight hljs&quot;&gt;&lt;pre class=&quot;gutter&quot;&gt;&lt;span class=&quot;line-number&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;2&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;3&lt;/span&gt;&lt;/pre&gt;&lt;pre class=&quot;code&quot;&gt;&lt;code class=&quot;language-gradle&quot;&gt;mkdir &lt;span class=&quot;hljs-regexp&quot;&gt;/tmp/&lt;/span&gt;sdcard
mount &lt;span class=&quot;hljs-regexp&quot;&gt;/dev/&lt;/span&gt;sda1 &lt;span class=&quot;hljs-regexp&quot;&gt;/tmp/&lt;/span&gt;sdcard
mtd -r &lt;span class=&quot;hljs-keyword&quot;&gt;write&lt;/span&gt; &lt;span class=&quot;hljs-regexp&quot;&gt;/tmp/&lt;/span&gt;sdcard/breed.bin Bootloader&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;
&lt;p&gt;路由器刷写完毕后会自动重启, &lt;strong&gt;在写入Breed的过程中不要动路由器&lt;/strong&gt;。&lt;/p&gt;
&lt;h1 id=&quot;刷机&quot;&gt;&lt;a class=&quot;header-link&quot; href=&quot;/posts/Xiaomi_Miwifi_3G/#%E5%88%B7%E6%9C%BA&quot; title=&quot;刷机&quot;&gt;&lt;/a&gt;刷机&lt;/h1&gt;
&lt;p&gt;下载所需固件：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;tuna镜像站的OpenWrt下载地址：&lt;a href=&quot;https://mirrors.tuna.tsinghua.edu.cn/lede/releases/&quot; target=&quot;_blank&quot; rel=&quot;external nofollow noreferrer noopener&quot;&gt;https://mirrors.tuna.tsinghua.edu.cn/lede/releases/&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;官方下载地址: &lt;a href=&quot;https://downloads.openwrt.org/releases/&quot; target=&quot;_blank&quot; rel=&quot;external nofollow noreferrer noopener&quot;&gt;https://downloads.openwrt.org/releases/&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;使用Breed的刷机方法&quot;&gt;&lt;a class=&quot;header-link&quot; href=&quot;/posts/Xiaomi_Miwifi_3G/#%E4%BD%BF%E7%94%A8Breed%E7%9A%84%E5%88%B7%E6%9C%BA%E6%96%B9%E6%B3%95&quot; title=&quot;使用Breed的刷机方法&quot;&gt;&lt;/a&gt;使用Breed的刷机方法&lt;/h2&gt;
&lt;p&gt;按照hackpascal的说法是：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;如果kernel0存在kernel1不存在, 那么启动kernel0
如果kernel1存在kernel0不存在, 那么启动kernel1
如果kernel0和kernel1都存在, 那么检查环境变量 xiaomi.r3g.bootfw 的值, 如果存在且值为 2, 那么启动kernel1, 否则启动kernel0&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;简单来说就是：路由器有两个内核, 需要在Breed里设置环境变量让路由器启动kernel1。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;刷入Openwrt固件到Kernel1&lt;/p&gt;
&lt;figure data-raw=&quot;mtd write openwrt-18.06.2-ramips-mt7621-mir3g-squashfs-kernel1.bin kernel1
mtd write openwrt-18.06.2-ramips-mt7621-mir3g-squashfs-rootfs0.bin rootfs0&quot; class=&quot;code-block highlight hljs&quot;&gt;&lt;pre class=&quot;gutter&quot;&gt;&lt;span class=&quot;line-number&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;2&lt;/span&gt;&lt;/pre&gt;&lt;pre class=&quot;code&quot;&gt;&lt;code class=&quot;language-apache&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;mtd&lt;/span&gt; write openwrt-&lt;span class=&quot;hljs-number&quot;&gt;18&lt;/span&gt;.&lt;span class=&quot;hljs-number&quot;&gt;06&lt;/span&gt;.&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;-ramips-mt&lt;span class=&quot;hljs-number&quot;&gt;7621&lt;/span&gt;-mir&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;g-squashfs-kernel&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;.bin kernel&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;hljs-attribute&quot;&gt;mtd&lt;/span&gt; write openwrt-&lt;span class=&quot;hljs-number&quot;&gt;18&lt;/span&gt;.&lt;span class=&quot;hljs-number&quot;&gt;06&lt;/span&gt;.&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;-ramips-mt&lt;span class=&quot;hljs-number&quot;&gt;7621&lt;/span&gt;-mir&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;g-squashfs-rootfs&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;.bin rootfs&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;路由器断电, 捅住reset按钮后通电, 待指示灯变为蓝色闪烁后用网线连接路由器到电脑, 浏览器打开网址&lt;code&gt;192.168.1.1&lt;/code&gt;, 进入Breed界面。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;在环境变量编辑里添加&lt;code&gt;xiaomi.r3g.bootfw&lt;/code&gt;字段, 值为&lt;code&gt;2&lt;/code&gt;,保存后重启即可进入Openwrt。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;没有刷入Breed的刷机方法&quot;&gt;&lt;a class=&quot;header-link&quot; href=&quot;/posts/Xiaomi_Miwifi_3G/#%E6%B2%A1%E6%9C%89%E5%88%B7%E5%85%A5Breed%E7%9A%84%E5%88%B7%E6%9C%BA%E6%96%B9%E6%B3%95&quot; title=&quot;没有刷入Breed的刷机方法&quot;&gt;&lt;/a&gt;没有刷入Breed的刷机方法&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://openwrt.org/toh/xiaomi/mir3g&quot; target=&quot;_blank&quot; rel=&quot;external nofollow noreferrer noopener&quot;&gt;OpenWrt官网提供的教程&lt;/a&gt;是在没有刷入Breed的情况下刷入OpenWrt固件的。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ssh到路由器, 导入固件后刷机。&lt;/p&gt;
&lt;figure data-raw=&quot;mtd write openwrt-18.06.2-ramips-mt7621-mir3g-squashfs-kernel1.bin kernel1
mtd write openwrt-18.06.2-ramips-mt7621-mir3g-squashfs-rootfs0.bin rootfs0
nvram set flag_try_sys1_failed=1
nvram commit

reboot&quot; class=&quot;code-block highlight hljs&quot;&gt;&lt;pre class=&quot;gutter&quot;&gt;&lt;span class=&quot;line-number&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;2&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;3&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;4&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;5&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;6&lt;/span&gt;&lt;/pre&gt;&lt;pre class=&quot;code&quot;&gt;&lt;code class=&quot;language-apache&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;mtd&lt;/span&gt; write openwrt-&lt;span class=&quot;hljs-number&quot;&gt;18&lt;/span&gt;.&lt;span class=&quot;hljs-number&quot;&gt;06&lt;/span&gt;.&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;-ramips-mt&lt;span class=&quot;hljs-number&quot;&gt;7621&lt;/span&gt;-mir&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;g-squashfs-kernel&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;.bin kernel&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;hljs-attribute&quot;&gt;mtd&lt;/span&gt; write openwrt-&lt;span class=&quot;hljs-number&quot;&gt;18&lt;/span&gt;.&lt;span class=&quot;hljs-number&quot;&gt;06&lt;/span&gt;.&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;-ramips-mt&lt;span class=&quot;hljs-number&quot;&gt;7621&lt;/span&gt;-mir&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;g-squashfs-rootfs&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;.bin rootfs&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;
&lt;span class=&quot;hljs-attribute&quot;&gt;nvram&lt;/span&gt; set flag_try_sys&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;_failed=&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;hljs-attribute&quot;&gt;nvram&lt;/span&gt; commit

&lt;span class=&quot;hljs-attribute&quot;&gt;reboot&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;
&lt;hr&gt;
&lt;h1 id=&quot;Others&quot;&gt;&lt;a class=&quot;header-link&quot; href=&quot;/posts/Xiaomi_Miwifi_3G/#Others&quot; title=&quot;Others&quot;&gt;&lt;/a&gt;Others&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;如果刷了Breed + Pandavan/PandoraBox后想换回OpenWrt的话, 首先在Breed中刷回小米路由器开发版的官方固件, 然后SSH到路由器按照上述的使用Breed的刷机方法再刷机。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;USB3.0会对路由器的2.4G频段信号造成干扰。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;OpenWrt默认语言为英文, 可安装&lt;code&gt;luci-i18n-base-zh-cn&lt;/code&gt;,&lt;code&gt;luci-i18n-base-zh-tw&lt;/code&gt;安装简体/繁体中文。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://openwrt-dist.sourceforge.net&quot; target=&quot;_blank&quot; rel=&quot;external nofollow noreferrer noopener&quot;&gt;OpenWrt-disk&lt;/a&gt;可拓展更多功能。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;为优化软件包安装速度, 可将opkg源改为国内：&lt;/p&gt;
&lt;p&gt;LuCI -&amp;gt; System -&amp;gt; Software -&amp;gt; Configuration 中将 Distribution feeds 的&lt;code&gt;http://downloads.openwrt.org&lt;/code&gt;替换为&lt;code&gt;http://mirrors.tuna.tsinghua.edu.cn/lede&lt;/code&gt;。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;OpenWrt可安装软件包&lt;code&gt;libustream-openssl&lt;/code&gt; &lt;code&gt;libustream-mbedtls&lt;/code&gt;解决&lt;code&gt;wget&lt;/code&gt;无法访问https服务器问题。&lt;/p&gt;
&lt;p&gt;然后建议把opkg源能改为https的都改为https。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;

    </content>
    
    
    <category term="教程" label="教程" scheme="https://blog.starry-s.me/categories/%E6%95%99%E7%A8%8B/" />
    
    <category term="路由器" label="路由器" scheme="https://blog.starry-s.me/categories/%E6%95%99%E7%A8%8B/%E8%B7%AF%E7%94%B1%E5%99%A8/" />
    
    
    <category term="教程" label="教程" scheme="https://blog.starry-s.me/tags/%E6%95%99%E7%A8%8B/" />
    
    <category term="路由器" label="路由器" scheme="https://blog.starry-s.me/tags/%E8%B7%AF%E7%94%B1%E5%99%A8/" />
    
    <category term="OpenWrt" label="OpenWrt" scheme="https://blog.starry-s.me/tags/OpenWrt/" />
    
  </entry>
  
  
  
  <entry>
    <title>Everything is based on “Hello World”.</title>
    <link rel="alternate" type="text/html" href="https://blog.starry-s.me/posts/hello-world/" />
    <id>https://blog.starry-s.me/posts/hello-world/</id>
    
    <published>2016-08-22T06:22:54.000Z</published>
    
    
    <updated>2016-08-22T06:22:54.000Z</updated>
    
    
    <summary type="html">
      &lt;link href=&quot;/css/APlayer.min.css&quot; rel=&quot;stylesheet&quot;&gt;
&lt;script src= &quot;/js/APlayer.min.js&quot;&gt;&lt;/script&gt;
&lt;p&gt;&lt;img src=&quot;/posts/hello-world/images/image.jpg&quot; alt=&quot;&amp;quot;Hello World&amp;quot;&quot; title=&quot;Hello World&quot;&gt;&lt;/p&gt;
 &lt;!--APlayer--&gt;
&lt;div id=&quot;aplayer0&quot; style=&quot;background: var(--color-main-background)&quot;&gt;&lt;/div&gt;
&lt;script&gt;
const ap0 = new APlayer ({
    container: document.getElementById(&quot;aplayer0&quot;),
    theme: &quot;#33363b&quot;,
    fixed: false,
    listFolded: false,
    listMaxHeight: false,
    lrcType: false,
    mini: false,
    volume: 0.7,
    order: &quot;list&quot;,
    loop: &quot;all&quot;,
    autoplay: false,
    audio: [{
        name: &quot;遊園施設&quot;,
        artist: &quot;帆足圭吾&quot;,
        url: &quot;https://music.starry-s.me/music/540b_075e_0453_cae9f8037d04c81f84993977b01792ec.m4a&quot;,
        cover: &quot;https://music.starry-s.me/music/cover/18710389371705314.jpg&quot;,
        lrc: &quot;&quot;,
        theme: &quot;#67B577&quot;
    }]
});
&lt;/script&gt; 


    </summary>
    
    
    <content type="html">
      &lt;link href=&quot;/css/APlayer.min.css&quot; rel=&quot;stylesheet&quot;&gt;
&lt;script src= &quot;/js/APlayer.min.js&quot;&gt;&lt;/script&gt;
&lt;p&gt;&lt;img src=&quot;/posts/hello-world/images/image.jpg&quot; alt=&quot;&amp;quot;Hello World&amp;quot;&quot; title=&quot;Hello World&quot;&gt;&lt;/p&gt;
 &lt;!--APlayer--&gt;
&lt;div id=&quot;aplayer0&quot; style=&quot;background: var(--color-main-background)&quot;&gt;&lt;/div&gt;
&lt;script&gt;
const ap0 = new APlayer ({
    container: document.getElementById(&quot;aplayer0&quot;),
    theme: &quot;#33363b&quot;,
    fixed: false,
    listFolded: false,
    listMaxHeight: false,
    lrcType: false,
    mini: false,
    volume: 0.7,
    order: &quot;list&quot;,
    loop: &quot;all&quot;,
    autoplay: false,
    audio: [{
        name: &quot;遊園施設&quot;,
        artist: &quot;帆足圭吾&quot;,
        url: &quot;https://music.starry-s.me/music/540b_075e_0453_cae9f8037d04c81f84993977b01792ec.m4a&quot;,
        cover: &quot;https://music.starry-s.me/music/cover/18710389371705314.jpg&quot;,
        lrc: &quot;&quot;,
        theme: &quot;#67B577&quot;
    }]
});
&lt;/script&gt; 

&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;

&lt;hr&gt;
&lt;figure data-raw=&quot;#include &lt;stdio.h&gt;
int main(int argc, char *argv[])
{
    printf(&amp;quot;Hello World!\n&amp;quot;);
    return 0;
}
&quot; data-info=&quot;language-C&quot; data-lang=&quot;C&quot; class=&quot;code-block highlight hljs&quot;&gt;&lt;pre class=&quot;gutter&quot;&gt;&lt;span class=&quot;line-number&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;2&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;3&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;4&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;5&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;6&lt;/span&gt;
&lt;span class=&quot;line-number&quot;&gt;7&lt;/span&gt;&lt;/pre&gt;&lt;pre class=&quot;code&quot;&gt;&lt;code class=&quot;language-cpp&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;#&lt;span class=&quot;hljs-meta-keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;hljs-meta-string&quot;&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;int&lt;/span&gt; argc, &lt;span class=&quot;hljs-keyword&quot;&gt;char&lt;/span&gt; *argv[])&lt;/span&gt;
&lt;/span&gt;{
    &lt;span class=&quot;hljs-built_in&quot;&gt;printf&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Hello World!\n&quot;&lt;/span&gt;);
    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;
&lt;h2 id=&quot;STARRY-S039;Blog&quot;&gt;&lt;a class=&quot;header-link&quot; href=&quot;/posts/hello-world/#STARRY-S039;Blog&quot; title=&quot;STARRY-S039;Blog&quot;&gt;&lt;/a&gt;STARRY-S&#039; Blog&lt;/h2&gt;

    </content>
    
    
    <category term="Hello World" label="Hello World" scheme="https://blog.starry-s.me/categories/Hello%20World/" />
    
    
    <category term="Hello World" label="Hello World" scheme="https://blog.starry-s.me/tags/Hello%20World/" />
    
  </entry>
  
  
</feed>
