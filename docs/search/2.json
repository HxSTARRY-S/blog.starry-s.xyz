{"data":[{"title":"首页","url":"/","content":""},{"title":"标签","url":"/tags/","content":""},{"title":"解决笔记本外接HIDPI显示器的缩放问题","url":"/posts/Laptop-Dualscreen-Hidpi-Scale/","content":"\n\n起因\n前天在狗东买了台27寸4K显示器，型号为优派VX2771-4K-HD，分辨率3840x2160，支持HDR 10bit色深（然而电脑没DP接口），因为之前已经配置好了optimus-manager，所以电脑接上显示器就能亮，很幸运没有遇到物理问题。\n然后一看4K屏上的字小得瞎眼。\n如果设置4K屏的分辨率为1080P，就会变得特别糊，根本没法看，效果还没有1080P显示器好。\n\n\n \n\n\nconst ap0 = new APlayer ({\n    container: document.getElementById(\"aplayer0\"),\n    theme: \"#33363b\",\n    fixed: false,\n    listFolded: false,\n    listMaxHeight: false,\n    lrcType: false,\n    mini: false,\n    volume: 0.7,\n    order: \"list\",\n    loop: \"all\",\n    autoplay: false,\n    audio: [{\n        name: \"エンドロール\",\n        artist: \"KEIKO\",\n        url: \"https://music.starry-s.me/music/obj_w5rDlsOJwrLDjj7CmsOj_5016145218_8a57_c3ad_6dee_bedcb53124a46de8152d464b7db24470.mov\",\n        cover: \"https://music.starry-s.me/music/cover/109951165501153240.jpg\",\n        lrc: \"\",\n        theme: \"#886666\"\n    }]\n});\n  \n\n解决方法\n首先按照Wiki设置GNOME的HIDPI:\n}]&quot;\n$ gsettings set org.gnome.desktop.interface scaling-factor 2\" data-info=\"language-text\" data-lang=\"text\" class=\"code-block highlight hljs\">1\n2$ gsettings set org.gnome.settings-daemon.plugins.xsettings overrides \"[{'Gdk/WindowScalingFactor', &lt;2&gt;}]\"\n$ gsettings set org.gnome.desktop.interface scaling-factor 2\n在显示设置里将缩放调到200%后，界面被放大了2被，在4K屏上的字倒是不瞎眼了。\n但是因为笔记本是15寸1080P，所以笔记本上显示的字大得离谱。\n解决方法是使用xrandr调整笔记本电脑的屏幕缩放，笔记本的分辨率为1920x1080，使用xrandr将画面的分辨率放大2倍，也就是调整为3840x2160，然后显示在分辨率为1920x1080的显示器上。\n首先使用xrandr查看每个显示器所对应的设备名称和分辨率。\n1\n2\n3\n4$ xrandr | grep \"$extern connected\" \n\n  HDMI-0 connected primary 3840x2160+0+0 (normal left inverted right x axis y axis) 597mm x 336mm\n  eDP-1-1 connected 1920x1080+0+2160 (normal left inverted right x axis y axis) 344mm x 193mm\n这里HDMI-0是外接的4K显示器，分辨率为3840x2160，位置为(0, 0)。\neDP-1-1是笔记本的显示器，分辨率1920x1080，位置为(0, 2160)，在4K显示器的左下方。\n参见Wiki设置双显示器部分，用xrandr将笔记本的显示器缩放2倍，分辨率变为 [1920 * 2]x[1080 * 2]=3840x2160，位置还是在4K显示器的正下方。\n1$ xrandr --output eDP-1-1 --scale 2.0x2.0 --panning 3840x2160+0+2160 --output HDMI-0 --auto\n因为不需要修改4K显示器的分辨率，所以HDMI-0设置为auto。\n这样笔记本上的画面也显示正常了。\n但是用过一阵子会发现笔记本显示器上的字比4K显示器上的字小很多，看起来不方便，所以把缩放倍数改为1.6（我是从1.5-2.0之间一点点试的，才找到最适合自己的缩放倍数），这样解决了字体大小的问题，不过笔记本画面还是会有模糊（能接受）。\n\n[1920 * 1.6]x[1080 * 1.6]=3072x1728\n\n1$ xrandr --output eDP-1-1 --scale 1.6x1.6 --panning 3072x1728+0+2160 --output HDMI-0 --auto\n用到现在GNOME的缩放还算是完美，除了玩Minecraft用的HMCL启动器（Java程序）没有被放大之外（貌似缺配置，要是配置好了我再补充），Steam界面缩放正常，饥荒、Dota2也都没问题。\nOthers\n\n仅限GNOME，因为我只用GNOME所以不知道其他DE开HIDPI的效果是什么样。\n\n听说Wayland支持不同显示器设置不同的缩放倍数，但是我笔记本的HDMI是独显输出，自带屏幕为集显输出，想启用独显输出画面除了用大黄蜂之外只能Nvidia Optimus，然而Optimus不支持Wayland（F**K NVIDIA），于是我现在都不知道用Wayland上双显示器的效果是什么样子，只好改用xorg和optimus-manager切换显卡，再用xrandr调显示器的缩放倍数。\n\nxrandr的指令是我自己试了很多遍试出来的，在我电脑上能用，期间遇到一堆问题，所以不保证在别的电脑上也能正常用。\n\n如果你正考虑为你的笔记本购买一台新显示器而且你是Linux用户，你的笔记本又是双显卡，不知道HDMI是独显输出还是集显输出的话，建议你买一台和笔记本电脑的分辨率相同的显示器，这样能省去很多麻烦。\n\n\n"},{"title":"Hello 2021","url":"/posts/hello-2021/","content":"\n\n\n\n\n \n\n\nconst ap0 = new APlayer ({\n    container: document.getElementById(\"aplayer0\"),\n    theme: \"#33363b\",\n    fixed: false,\n    listFolded: false,\n    listMaxHeight: false,\n    lrcType: false,\n    mini: false,\n    volume: 0.7,\n    order: \"list\",\n    loop: \"all\",\n    autoplay: false,\n    audio: [{\n        name: \"カイネ／救済\",\n        artist: \"MONACA / 岡部啓一\",\n        url: \"https://music.starry-s.me/music/530b_565e_0358_dacd477cbca4bc1acf8f4293c7685998.m4a\",\n        cover: \"https://music.starry-s.me/music/cover/2356253418376742.png\",\n        lrc: \"\",\n        theme: \"#666666\"\n    }]\n});\n  \n\n本来我已经戴好耳机准备睡觉了的，突然想起来2020年的年终总结还没有写，恰好脑子里有想写的东西，于是大概构思了一下，便从床上爬起来开灯打开电脑开写年终总结。\n因为思路不是很稳定，总是写了删删了写，所以隔了这么久才把原本已经放弃了不打算写的年终总结重新写出来。\n果然还是深夜适合写这些东西。\n今年原本打算能像去年那样在假期外出旅行的，然而疫情爆发后我就一直窝在家待着哪里都没去，不过在1月17号也就是武汉封城前几天，我自己一个人坐飞机跑去北京玩了一圈，当时还不知道有疫情这么一回事，到北京后就是找个地方住下，简单的去了一些景点，后来因为脚疼，很多路远的人多的地方都没有去成。在北京闲逛3天后就坐大客车回家了（一边坐车一遍骂京哈高铁京承段为什么一点进展都没有）。到家后不几天就听说武汉开始封城，然后北京就开始交通管制，现在想想还挺刺激的。\n然后暑假本来打算去上海BW2020的，在票都买好了之后，因为外出需要和学校审批（此处省略若干字），最终漫展门票全打水漂，飞机票退票手续费还花了三百多块钱。\n上半年宅在家里大半年，几乎是什么都没学，什么事情都没干。不过也借此机会每天都能睡个大懒觉，总之就是狠狠的歇了一顿，尝试着把高中时期欠的觉补回来，然而似乎并不管用。\n然后总感觉自己每天都很累，明明什么都没有干但是身体总是一点力气都没有，总之下半年开学后经历了很长一段时间才重新适应了学校的生活，期间心理变化很复杂。\n所以大二下学期和大三上学期的期末成绩基本上都是刚好及格。（真的是烤60分比烤80分还高兴）\n\n年初看了几集超电磁炮3，看到后来因为它更新太慢了就忘了继续看了。之后还看了格莱普尼尔，看这个番纯粹是因为它的OP是Hikaru唱的，看着看着觉得挺有意思而且官方更新速度很快，于是就把第一季追完了。\n然后因为Lacrimosa这首歌，我才看的黑执事，不过自己比较懒只看了第一季，第二季一直咕到现在都没有看，听说剧情挺虐的所以我更不敢看了。（明明第二季的ed比第一季的还好听）\n本来还打算看新世纪福音战士的，也是因为懒，看了一集就不继续看了。\n除此之外，年末的时候在睡前为了打发时间看了几集非自然死亡。\n\n这一年又打了一遍尼尔：机械纪元。和第一次玩不太一样，二刷时我尽可能的多做支线任务，不开简单模式和自动芯片。不过通关后我还没有打E结局，总想找个时间把其他支线任务做完。\n年初在逛淘宝时发现了台版的尼尔原著小说，于是毫不犹豫的把少年寄叶、短话和长话全都买了下来。不过截至目前我只看完了短话。在看完艾米尔的回忆那一章后很感动于是打开游戏找到相对应的支线任务，废了很大力气找到那三朵“Luna Tear”（月之泪）之后，前往种着一大片月之泪的地下室。\n在网上看攻略找到了艾米尔居住的家，于是又走了很远的路到地下很深的地方，到他家里面拿（偷）走了面具。\n据说去他家偷完东西后会触发艾米尔的boss支线，不过因为在寝室没太多时间所以我没有继续玩下去。\n蛮期待2021年4月发行的尼尔续作的，不过有些担心我的笔记本还能不能跑得起来。\n\n尝试着二刷空境原著，不过没刷完，所以只好等以后有时间再看了。\n2020年下半年花了很大力气尝试玩懂FGO，不过最终因为太肝、自己太非、没时间而劝退，前几章的主线太枯燥乏味了，而且我貌似只对FSN系列和空境系列的人感兴趣，FGO里面的人物基本和他们不沾边而且我也不认识。\n很期待月姬重制版，尽管我目前还一点都不了解月姬。既然月姬重置版只在主机平台上映，尼尔续作也有主机版，那么我是不是应该提前准备一台PS4呢？\nPS5水货太贵了还是算了，除非等国行，然而等国行又要等到4月份。\n关键是我连PS4都买不起。\n\n2020年4月份的时候新开了一个Minecraft单机生存的坑，原本是打算看一下新版本（1.15.2）更新了什么新特性的（蜜蜂），结果玩上生存就停不下来了。先是花了两个星期用纯铁镐手挖两个史莱姆区块，用矿车运村民和僵尸照着B站的视频建了简易的刷铁机，之后又用不到一个月的时间解放末地。总之就是玩上了就停不下来了。然后照着B站各大UP主的视频做了末地刷沙机、然后是混凝土固化机，后来挂三向轰炸机肝了3天清了出生点空置域。用了短短几个月的时间一个人建了很多东西，去地狱打了凋零骷髅头，建海上刷怪塔刷火药和骨粉。后来物资储备足够多了之后就开始挖地铁（旧习难改吧），一年的时间挖了两条地铁线路，盖了十几座车站、一座跨海大桥、一栋摩天大楼。\n原来单机生存还能玩得这么有意思，B站上有很多生电大佬，然而红科搬的视频我基本都看不懂。\n后续可能要再修几条地铁，延长已有的线路，然后再搞一些建筑，炸一个原点空置域修全物品分类机，然后还打算升级1.16.4。\n\n就回忆到这里吧，2020是个特别的一年。\n\n"}]}